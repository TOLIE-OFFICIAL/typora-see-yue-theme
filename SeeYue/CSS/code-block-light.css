/* 本文件为代码块样式设置 */


/* ————————————————————————————————————————— 基础设置 —————————————————————————————————————————————— */

/* 代码块 */
#write .md-fences {
  -webkit-font-smoothing: initial;
  margin                : 1.5rem 0 !important;
  padding               : 0.3rem 0 !important;
  line-height           : 1.3rem;
  /* 背景色 */
  background-color      : var(--code-block-bg-color);
  word-wrap             : normal;
  box-shadow            : 0px 0px 10px rgba(0, 0, 0, 0.15);
  border-radius         : var(--code-block-bg-radius);
}

#write .CodeMirror-wrap .CodeMirror-code pre {
  margin-right : 12px;
  padding-left : 12px;
  padding-right: 0 !important;
  font-family  : var(--code-block-font);
  font-size    : var(--code-block-text-size);
  /* 使得鼠标悬浮在滚轮上时候的样式与悬浮在代码块其他地方的样式不同 */
  cursor       : auto;
}

/* 代码块横向滚轮 */
/* #write .CodeMirror-wrap .CodeMirror-code pre {
  overflow-x : scroll !important;
  white-space: nowrap !important;
  line-height: 1.25rem;
} */

/* 行间代码 */
#write code,
tt {
  margin          : 0 2px;
  padding         : 1.5px 3px 0px;
  font-family     : var(--line-code-font);
  color           : var(--line-code-color);
  background-color: var(--line-code-bg-color);
  border-radius   : var(--line-code-bg-radius);
  font-size       : var(--line-code-size);
  font-weight     : normal;
}

blockquote code {
  line-height: 1.5;
}

/* 行号竖线 */
#write .CodeMirror-gutters {
  border-color: #313335;
  border-right: 1.5px solid #999;
}

/* 代码块输入框 */
#write .code-tooltip {
  width      : auto;
  line-height: 1.5;
  font-size  : 16px;
  box-shadow : 0px 0px 10px rgb(0 0 0 / 30%);
  padding    : 0;
  margin     : 0;
  border     : none;
  position   : relative;
  top        : 20px;
}

.code-tooltip .ty-input {
  border   : none;
  margin   : 0;
  padding  : 1px 0;
  min-width: 201px;
}

/* ————————————————————————————————————— 代码块各语言颜色设置 ——————————————————————————————————————— */

/* 参考：https://www.jb51.net/css/753133.html */
/* ported from https://codemirror.net/theme/material.css */
.cm-s-inner {
  background-color: #263238;
  color           : rgb(0, 0, 0);
}

/* 代码块行号右侧竖线 */
/* #write .CodeMirror-gutters {
    border-right: 0.75px solid #59647c;
} */

.cm-s-inner .CodeMirror-gutters {
  /* background: #263238; */
  color : rgb(87, 127, 83);
  border: none;
}

.cm-s-inner .CodeMirror-guttermarker,
.cm-s-inner .CodeMirror-guttermarker-subtle,
/* 行号 */
.cm-s-inner .CodeMirror-linenumber {
  color      : #999;
  font-family: "RobotoMono-Simplify";
}

/* 代码块光标 */
.cm-s-inner .CodeMirror-cursor {
  border-left: var(--focus-code-line-cursor-style) !important;
}

/* 选中文字背景 */
.cm-s-inner div.CodeMirror-selected {
  background: rgba(255, 255, 255, 0.15);
}

.cm-s-inner.CodeMirror-focused div.CodeMirror-selected {
  background: rgba(255, 255, 255, 0.1);
}

.cm-s-inner .CodeMirror-line::selection,
.cm-s-inner .CodeMirror-line>span::selection,
.cm-s-inner .CodeMirror-line>span>span::selection {
  background: rgba(255, 255, 255, 0.1);
}

.cm-s-inner .CodeMirror-line::-moz-selection,
.cm-s-inner .CodeMirror-line>span::-moz-selection,
.cm-s-inner .CodeMirror-line>span>span::-moz-selection {
  background: rgba(255, 255, 255, 0.1);
}

/* 光标所在行背景色 */
/* .md-fences.md-focus .cm-s-inner .CodeMirror-activeline-background, */
.md-fences.md-focus .CodeMirror-code>div.CodeMirror-activeline {
  background: var(--focus-code-line-bg-color);
}

/* 关键字 */
.cm-s-inner .cm-keyword {
  color: #8f08c4;
}

/* 运算符 */
.cm-s-inner .cm-operator {
  color: #36374c;
}

/* 被使用的形参 */
.cm-s-inner .cm-variable-2 {
  color: #80cbc4;
}

/* 形参,类型 */
.cm-s-inner .cm-variable-3 {
  color: #82b1ff;
}

/* 被调用的属性 */
.cm-s-inner .cm-builtin {
  color: #decb6b;
}

/* css属性值，布尔值等等 */
.cm-s-inner .cm-atom {
  color: #f77669;
}

/* 数字 */
.cm-s-inner .cm-number {
  color: #b4654d;
}

/* 变量名 */
.cm-s-inner .cm-def {
  color: #74531f;
}

/* 字符串 */
.cm-s-inner .cm-string {
  color: #b91919;
}

/* 正则表达式 */
.cm-s-inner .cm-string-2 {
  color: #80cbc4;
}

/* 注释 */
.cm-s-inner .cm-comment {
  color: #546e7a;
}

/* 被使用的变量名 */
.cm-s-inner .cm-variable {
  color: #000000;
}

/* 标签名 */
.cm-s-inner .cm-tag {
  color: #80cbc4;
}

/* 省略号,注解等 */
.cm-s-inner .cm-meta {
  color: #e96900;
}

/* 属性 */
.cm-s-inner .cm-attribute {
  color: #ffcb6b;
}

/* 被调用的方法 */
.cm-s-inner .cm-property {
  color: #80cbae;
}

/* css class */
.cm-s-inner .cm-qualifier {
  color: #decb6b;
}

/* 形参,类型 */
.cm-s-inner .cm-variable-3 {
  color: #0000ff;
}

.cm-s-inner .cm-tag {
  color: rgba(255, 83, 112, 1);
}

/* 错误 */
.cm-s-inner .cm-error {
  color           : rgba(255, 255, 255, 1);
  background-color: #ec5f67;
}

.cm-s-inner .CodeMirror-matchingbracket {
  text-decoration: underline;
  color          : white !important;
}

.md-fences {
  background-color: #263238;
  color           : rgb(44, 116, 199);
  border          : none;
}

.cm-s-inner .cm-link,
.cm-s-inner.cm-link {
  color: #22a2c9;
}

.cm-s-inner .cm-string {
  color: #a31515;
}

.md-fences .code-tooltip {
  background-color: #ffffff;
}

/* diff 样式，仿GitHub */
.cm-negative {
  color           : #82071e;
  background-color: #ffebe9;
}

.cm-positive {
  color           : #116329;
  background-color: #dafbe1;
}